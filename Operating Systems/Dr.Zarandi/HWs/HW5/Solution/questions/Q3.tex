

\section{سوال سوم}

\begin{enumerate}
	\item 
	 \lr{race condition} چه مواقعی پیش می‌آید و باعث چه مشکلی می‌شود؟ چطور می‌توان از آن جلوگیری کرد؟

	\begin{qsolve}
		
	\end{qsolve}
	
	
	
	
	\item 
	در قطعه کد زیر توضیح دهید \lr{race condition} در کدام قسمت ممکن است به وجود بیاید و یک سناریو که باعث ناسازگاری داده می‌شود مثال بزنید.
%source: https://www.uio.no/studier/emner/matnat/ifi/IN3000/v23/timeplan/threads-criticalsections.pdf
%page: 17
	
\begin{latin}
\begin{lstlisting}[caption=Code of Q2, label=cpp_code_example]
int shared_counter = 0;

void* increment_counter(void* arg) 
{
	for (int i = 0; i < 1000000; ++i) 
	{
		shared_counter++;
	}
	return NULL;
}

int main() 
{
	pthread_t thread1, thread2;
	pthread_create(&thread1, NULL, increment_counter, NULL);
	pthread_create(&thread2, NULL, increment_counter, NULL);
	
	pthread_join(thread1, NULL);
	pthread_join(thread2, NULL);
	
	printf("Final value of shared_counter: %d\n", shared_counter);
	return 0;
}
\end{lstlisting}
\end{latin}
	
	
	
	
	
	\begin{qsolve}
		
	\end{qsolve}

\end{enumerate}